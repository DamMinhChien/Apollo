<!--Navbar-->
<nav class="navbar navbar-expand-xl navbar-light bg-light fixed-top">
    <div class="container-fluid px-3">
        <!-- Nút toggle cho mobile -->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Logo / Brand -->
        <a class="navbar-brand" href="index.html">
            <img src="./assets/images/logo/logo.svg" alt="Logo" width="272px" height="42px">
        </a>

        <!-- Nội dung Navbar -->
        <div class="collapse navbar-collapse px-5" id="navbarNav">
            <ul class="navbar-nav m-auto gap-4">
                <li class="nav-item">
                    <a class="nav-link nav-link-1" href="./index.html">Trang chủ</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link nav-link-1" href="./index.html">Cửa hàng</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link nav-link-1" href="./index.html">Sản phẩm</a>
                </li>

                <!-- Dropdown -->
                <li class="nav-item dropdown">
                    <a class="nav-link  nav-link-1 dropdown-toggle" href="#" id="navbarDropdown" role="button"
                        data-bs-toggle="dropdown" aria-expanded="false">
                        Danh Mục
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <li><a class="dropdown-item" href="#">Áo</a></li>
                        <li><a class="dropdown-item" href="#">Quần</a></li>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <li><a class="dropdown-item" href="#">Phụ Kiện</a></li>
                    </ul>
                </li>

                <li class="nav-item">
                    <a class="nav-link nav-link-1" href="#">Về chúng tôi</a>
                </li>
            </ul>

            <!-- Icon bên phải -->
            <ul class="navbar-nav ms-auto">
                <li class="nav-item p-2">
                    <!--Toggle-button-->
                    <div class="toggle-button">
                        <div class="switch"></div>
                    </div>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link"><i class="bi bi-search"></i></a>
                </li>
                <li class="nav-item">
                    <a href="./login.html" id="account" class="nav-link"><i class="bi bi-person-fill"></i></a>
                </li>
                <li class="nav-item position-relative">
                    <a href="./cart.html" class="nav-link d-inline-block"><i class="bi bi-cart"></i></a>
                    <span class="badge bg-danger position-absolute rounded-pill">4</span>
                </li>
            </ul>
        </div>
    </div>
</nav>
<script>
    $(function () {
        $(".toggle-button").click(function () {
            $(this).toggleClass("active")
            if ($(this).hasClass("active")) {
                $(this).css({
                    "background-image": "url('./assets/images/cartoon/night.png')",
                    "background-position": "left"
                })
                $(".navbar-brand img").attr("src", "./assets/images/logo/logo-dark.svg")
            }
            else {
                $(this).css({
                    "background-image": "url('./assets/images/cartoon/day.png')",
                    "background-position": "right"
                })
                $(".navbar-brand img").attr("src", "./assets/images/logo/logo.svg")
            }
            toggleTheme()
        })
    })
    function toggleTheme() {
        const $html = $('html');
        let theme = $html.attr('data-bs-theme');

        if (!theme) {
            theme = 'light';
            $html.attr('data-bs-theme', theme);
        }

        // Chuyển đổi giữa Light và Dark Mode
        theme = theme === 'dark' ? 'light' : 'dark';
        $html.attr('data-bs-theme', theme);

        // Lưu trạng thái vào localStorage
        localStorage.setItem('theme', theme);
    }

    // Kiểm tra trạng thái Dark Mode khi tải trang
    $(document).ready(function () {
        const savedTheme = localStorage.getItem('theme') || 'light';
        $('html').attr('data-bs-theme', savedTheme);

        // Cập nhật trạng thái nút toggle
        if (savedTheme === 'dark') {
            $(".toggle-button").addClass("active").css({
                "background-image": "url('./assets/images/cartoon/night.png')",
                "background-position": "left"
            });
        } else {
            $(".toggle-button").removeClass("active").css({
                "background-image": "url('./assets/images/cartoon/day.png')",
                "background-position": "right"
            });
        }
    });
</script>